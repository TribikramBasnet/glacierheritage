<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dona (Thulagi) Glacial Lake Monitoring</title>
    <!-- Use the same external stylesheets as the home page -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <!-- Link to the main style file in the parent directory -->
    <link rel="stylesheet" href="../css/style.css" />
</head>
<body>

    <!-- This div will now load the new shared header from header.html -->
    <div data-include-html="../includes/header.html"></div>

    <!-- This is the header content specific to the Imja page, placed below the shared header. -->
    <div class="container mt-4">
        <!-- The main page title, which is now left-aligned -->
        <h1 class="my-0">Dona (Thulagi) Glacial Lake Monitoring</h1>
    </div>

    <!-- Main Content for the Dona (Thulagi) Glacial Lake Page -->
    <div class="container mt-2 mb-4">
        <h2>About the Dona (Thulagi) Glacial Lake</h2>
        <p>
            Dona (Thulagi) Glacial Lake is also known as Dona Tal, is located in western Nepal at an altitude of 
            4,050 meters and at 28°29.24′N latitude and 84°29.17′E longitude. Situated at the end of 
            the Thulagi Glacier, the lake is a key source for the Dona Khola, which flows into the 
            Marsyangdi River. The glacier itself is approximately 4.5 kilometers long and is covered in 
            debris. Scientific studies and satellite imagery have shown that its surface area and water 
            volume have increased substantially due to the rapid melting and retreat of the Thulagi Glacier.

        </p>
    </div>
    
    <!-- The Interactive Image Slider -->
    <h2 class="mt-5 text-center">Dona (Thulagi) Glacial Lake</h2>
    <div id="image-slider-container" class="slider-container mb-5">
        <!-- The "after" image (full view, bottom layer) -->
        <img class="slider-image" src="../assets/images/DonaLake/DonaLake_2024.png" alt="Glacier 2024" />
        <!-- Info label for the "after" image -->
        <div class="image-info after">
            <p class="m-0">2024</p>
            <p class="m-0">Area: 1.0 km²</p>
        </div>
        
        <!-- The "before" image, with clip-path controlling the visible part -->
        <div id="slider-before-image" class="slider-before-image">
            <img class="slider-image" src="../assets/images/DonaLake/DonaLake_1992.png" alt="Glacier 2010" />
            <!-- Info label for the "before" image -->
            <div class="image-info">
                <p class="m-0">1992</p>
                <p class="m-0">Area: 0.75 km²</p>
            </div>
        </div>

        <!-- The draggable handle -->
        <div id="slider-handle" class="slider-handle"></div>
    </div>
    
    <!-- Navigation buttons for other glacier pages -->
<div class="container text-center mt-3">
        <!-- Navigation Buttons for different monitoring pages -->
        <nav id="lake-nav" class="my-4">
            <a href="../pages/imja.html" class="btn btn-outline-primary mx-1">Imja Glacial Lake</a>
            <a href="../pages/barun.html" class="btn btn-outline-primary mx-1">Barun Glacial Lake</a>
            <a href="../pages/thso_rolpa.html" class="btn btn-outline-primary mx-1">Tsho Rolpa Glacial Lake</a>
            <a href="../pages/lower_barun.html" class="btn btn-outline-primary mx-1">Lower Barun Glacial Lake</a>
            <a href="../pages/bajura_ytd.html" class="btn btn-outline-primary mx-1">Glacial Lake of Bajura</a>
        </nav>
    </div>


    <!-- The Footer Section, which is now included from the master chunk -->
    <div data-include-html="../includes/footer.html"></div>
    
    <!-- This script loads the content from the footer.html and header.html files -->
    <script src="../js/include.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('image-slider-container');
            const beforeImage = document.getElementById('slider-before-image');
            const handle = document.getElementById('slider-handle');
            
            let isDragging = false;
            
            // Function to update the slider position and clip-path
            function slide(clientX) {
                const containerRect = container.getBoundingClientRect();
                const containerLeft = containerRect.left;
                const containerWidth = containerRect.width;

                let positionX = clientX - containerLeft;

                // Clamp the position to stay within the container boundaries
                positionX = Math.max(0, Math.min(positionX, containerWidth));
                
                // Calculate position as a percentage
                const positionPercentage = (positionX / containerWidth) * 100;
                
                // Update the clip-path of the "before" image
                beforeImage.style.clipPath = `inset(0 ${100 - positionPercentage}% 0 0)`;
                
                // Update the position of the handle
                handle.style.left = `${positionPercentage}%`;
            }

            // Mouse events for desktop
            handle.addEventListener('mousedown', (e) => {
                isDragging = true;
                e.preventDefault(); // Prevent text selection
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    slide(e.clientX);
                }
            });

            // Touch events for mobile
            handle.addEventListener('touchstart', (e) => {
                isDragging = true;
                e.preventDefault();
            });

            document.addEventListener('touchend', () => {
                isDragging = false;
            });

            document.addEventListener('touchmove', (e) => {
                if (isDragging && e.touches.length > 0) {
                    slide(e.touches[0].clientX);
                }
            });
            
            // Set initial position of slider in the center
            const initialWidth = container.offsetWidth / 2;
            const initialPercentage = (initialWidth / container.offsetWidth) * 100;
            beforeImage.style.clipPath = `inset(0 ${100 - initialPercentage}% 0 0)`;
            handle.style.left = `${initialPercentage}%`;
        });
    </script>
</body>
</html>
